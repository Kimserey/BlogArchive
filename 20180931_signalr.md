# SignalR with ASP Net Core

SignalR is a framework from ASP NET Core allowing us to establish a two way communication between client and server. This two way communication allows the client to send messages to the server but more importantly allows the server to push messages to the client. 
SignalR makes use of Websocket when available else it falls back to SSE or pulling. Today we will focus on how to setup SignalR to work with WSS, Websocket secure and how we can authenticate the user requesting to connect to our SignalR hub via Webscoket.

1. Getting stateds with SignalR
2. SSL encryption for Websocket Secure WSS
3. Websocket Authentication with Identity Server 4

## 1. Getting stateds with SignalR

SignalR is 

Create an empty project.

ASP NET Core 2.1 comes with SignalR built in so we can directly create a hub.

```c#
public class ChatHub : Hub
{
    public override async Task OnConnectedAsync()
    {
        await Groups.AddToGroupAsync(Context.ConnectionId, "SignalR Users");
        await base.OnConnectedAsync();
    }

    public override async Task OnDisconnectedAsync(Exception exception)
    {
        await Groups.RemoveFromGroupAsync(Context.ConnectionId, "SignalR Users");
        await base.OnDisconnectedAsync(exception);
    }

    public async Task SendMessage(string user, string message)
    {
        await Clients.All.SendAsync("ReceiveMessage", user, message);
    }
}
```

Create a hub

Download with npm
Copy js file into wwwroot
Code in script for the page

Working

## 2. SSL encryption for Websocket Secure WSS

By default

