# ASP NET Core with Nginx

Few weeks ago I showed how to host ASP NET Core on Windows Server behind IIS. Compared to Windows Server, Ubuntu with nginx offers a quicker way to get started and a better control over the kestrel process.
Today we will see how to host an ASP NET Core application on Ubuntu. This post will be composed of three parts:

1. Install nginx
2. Configure nginx

## 1. Install nginx

```sh
apt-get update
apt-get install nginx
```

After installing nginx, the daemon should have been installed and started. We should be able to navigate to `http://localhost` and see the nginx default page.

This page is the default root folder of nginx which can be found under `/var/www/html/`.

The default configuration of the server can be found under the sites available `/etc/nginx/sites-available`.

```sh
ln -s /etc/nginx/sites-available/myapp /etc/nginx/sites-enable/myapp
```

`/etc/nginx/sites-enabled`

## 2. Configure nginx reverse proxy

```txt
server {
    listen 80;
    listen [::]:80;
    server_name myapp.com www.myapp.com;

    proxy_http_version 1.1;
    proxy_set_header Connection keep-alive;
    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    proxy_set_header Upgrade $http_upgrade;
    proxy_set_header Host $http_host;
    proxy_cache_bypass $http_upgrade;

    location / { }

    location /api/ {
        proxy_pass http://localhost:5000/;
    }
}
```