# Razor syntax and helpers

Razor is a html template which allows us to construct pieces of html components by combining data and html markup. The power of Razor reside in its typesafety. It allows us to directly use our C# models in the templates and call functions we had defined in our controllers. Together with intellisense, it is quick way to build simple UI.
Today we will explore some of the features from Razor:

```
 1. Syntax
 2. Templates
 3. Tag helpers
```

## 1. Syntax

Razor expressions can written in two ways, implicit or explicit notation.

For implicit notation, we start with `@` and then we directly have access to values either from the view itself or some we created in the view or static functions.

```
@{ 
    var a = 10;
}

<label>@a</label>
```

The explicit notation is used with parentheses. It is usefull for simple manipulation:

```
@{
    var a = 10;
    var b = 15;
}

<p>Total: @(a + b)</p>
```

In the previous two sample we also saw that code blocks can be placed directly into the views using `@{ ... }`.

Implicit code block transition
Write html tag within code block

Explicit code block transition
Use <text>. Used when no html tag used.

Explicit line code block transition
Use @ on the line to render html

Html within code block is translated to html

For loops
While loops
Conditional if else
Switch case

2. Templates

Layouts are placed in shared folder with _layout.cshtml

ViewStart.cshtml can be used to place code running before every view.
For example specifying the layout

@{ Layout = _layout }

Layout is a property of the view which sets the layout to be used.

To use partial views, we can use the Html property of the view which we access using @Html, and for partial we invoke the Partial function of Html @Html.Partial("view", model).
Here we specified the name as "view" which specify to Razor to search the view in current folder or shared folder.
If we would have specified "view.cshtml" it would have only searched in the current folder.

For example the following code:

Another property used is @Model which gives access to the model linked to the page. To set the type of the model we can use the special keyword @model.

3. Tag helpers

One of the latest add-on on Razor are the tag helpers. Tag helpers are HTML tags which take over certain HTML tags and provide attributes which can be filled up in a typesafe way together with intelisense help. When the tag needs to be rendered the tag helper will generate the necessary html tag, the necessary attributes and also add other html tags if required.

For example we used to have to use @Html.LabelFor to create a label for an input with a dynamic name.
Now we can use the label tag helper which contains a asp-for attribute.

For example the following form:

```
```

With the following viewmodel and data annotation:

```
```

Generates the following:

```
```

Some of the common ones are the form tag helper which has the asp-controller and asp-action add-ons, the label tag helper with asp-for and the input tag helper with asp-for and asp-validation-for.

The select tag helper is also very useful as we can display a selection list for an enumeration:

```
<select asp-for="MyEnumProp" 
            asp-items="Html.GetEnumSelectList<MyEnum>()"> >
    </select> 
```

`Html` is a property on the view which gives access to basic functionalities like `GetEnumSelectList` which transforms an enum into a selection list.
Display attribute can then be used to display a human readable string.

For form fields, a comprehensive list is available in ASP NET core documentation:

[https://docs.microsoft.com/en-us/aspnet/core/mvc/views/working-with-forms](https://docs.microsoft.com/en-us/aspnet/core/mvc/views/working-with-forms)