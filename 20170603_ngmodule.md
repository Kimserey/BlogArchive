# How does NgModule works in Angular

The first time I saw the NgModule decorator and its arguments I was completely lost. 
I couldn't understand what was the meaning of imports, declarations, exports, providers or bootstrap and I had a hard time finding clear explanations. 
So today I will go through each attributes and provide an explanation together with an example to understand what is the role of each NgModule argument.

```
1. How does a NgModule declaration look like?
2. Imports
3. Exports
4. Declarations
5. Providers
```

# 1. How does a NgModule declaration look like?

Angular utilises the typescript decorators to define `NgModule`.
It accepts `imports`, `declarations`, `exports` and `providers`.

A typical declaration would look like that:

```
import { CommonModule } from '@angular/common';
import { NgModule } from '@angular/core';

import { SquareComponent } from './square.component';
import { SquareService } from './square.service';

@NgModule({
  imports: [
    CommonModule
  ],
  declarations: [
    SquareComponent
  ],
  exports: [
    SquareComponent
  ],
  providers: [
    SquareService
  ]
})
export class SquareModule { }
```

Here we are __importing__ the `CommonModule` from `@angular/common` to give access to common directives like `ngIf` or `ngFor`.
Then we are __declaring__ the `SquareComponent` which is a component defined by ourselves.
Then we are __exporting__ it, so that other modules who import `SquareModule` can use the `SquareComponent`.
Lastly we are __providing__ a service, `SquareService` which we have defined ourselves and make it avaible for dependency injection. 

# 2. Imports

`Imports` in NgModule is an array of module. Use it to import functionalities which other modules export.

# 3. Exports

`Exports` is an array of functionalities which the module exports.
A module can also re-export an entire loaded module which then export all the functionality of that module.

For example here in (1) we imported `CommonModule`. Now let say we had a `SharedModule` with common functionalities like so:

```
import { CommonModule } from '@angular/common';
import { NgModule } from '@angular/core';

import { HighlightDirective } from './highlight.directive';

@NgModule({
  imports: [
    CommonModule
  ],
  declarations: [
    HighlightDirective
  ],
  exports: [
    HighlightDirective,
    CommonModule
  ]
})
export class SharedModule { }
```

Notice that we are exporting the `CommonModule`. By doing that, whoever is importing `SharedModule` will not need to import `CommonModule` as it will be imported thanks to `SharedModule`.

So we can change (1) to the following:

```
@NgModule({
  imports: [
    SharedModule
  ],
  declarations: [
    SquareComponent
  ],
  exports: [
    SquareComponent
  ],
  providers: [
    SquareService
  ]
})
export class SquareModule { }
```

This technique can be used to import & export multiple modules which are repeatedly imported in different modules.

# 4. Declarations
# 5. Providers
